{"version":3,"sources":["main/index.js","main/main.js","employee/index.js","employee/employee.js","add-employee-panel/index.js","add-employee-panel/add-employee-panel.js","useFetch.js","employees/index.js","employees/employees.js","App.js","index.js"],"names":["Main","className","to","Employee","name","id","removeEmployeeCb","onClick","AddEmployeePanel","addEmployeeCb","nameRef","useRef","salaryRef","ageRef","type","ref","employee_name","current","value","employee_salary","employee_age","useFetch","url","useState","error","isLoading","data","response","setResponse","a","axios","method","Employees","doFetch","doFetchCb","useCallback","employees","setEmployees","useEffect","openAddEmployeePanel","setOpenAddEmployeePanel","idx","findIndex","employee","slice","console","log","map","key","Number","length","App","path","exact","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.15cb11e3.chunk.js","sourcesContent":["import Main from './main'\r\n\r\nexport default Main","import React from 'react'\r\nimport {NavLink} from 'react-router-dom'\r\n\r\nimport './main.css'\r\n\r\nconst Main = ()=>{\r\n    return(\r\n        <div className={`main`}>\r\n            <NavLink to='/'>Главная</NavLink>\r\n            <NavLink to='/employees'>Сотрудники</NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Main","import Employee from './employee'\r\n\r\nexport default Employee","import React from 'react'\r\n\r\nconst Employee = ({name, id, removeEmployeeCb})=>{\r\n\r\n    const removeEmployee =()=>{\r\n        removeEmployeeCb(id)\r\n    }\r\n\r\n    return(\r\n        <div className={`employee`}>\r\n            {name}\r\n            <button onClick={removeEmployee}>Remove employee</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Employee","import AddEmployeePanel from './add-employee-panel'\r\n\r\nexport default AddEmployeePanel","import React, {useRef} from 'react'\r\n\r\nconst AddEmployeePanel = ({id, addEmployeeCb})=>{\r\n    const nameRef = useRef(null)\r\n    const salaryRef = useRef(null)\r\n    const ageRef = useRef(null)\r\n\r\n    const addEmployee = ()=> {\r\n        addEmployeeCb({\r\n            id,\r\n            employee_name: nameRef.current.value,\r\n            employee_salary: salaryRef.current.value,\r\n            employee_age: ageRef.current.value\r\n        }\r\n    )}\r\n\r\n    return(\r\n        <div className={`add-employee-panel`}>\r\n            <div><input type='text' ref={nameRef}/> Name</div>\r\n            <div><input type='text' ref={salaryRef}/> Salary</div>\r\n            <div><input type='text' ref={ageRef}/> Age</div>\r\n            <div><button onClick={addEmployee}>Add Employee</button></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AddEmployeePanel","import {useState} from 'react'\r\nimport axios from 'axios'\r\n\r\nconst useFetch = url =>{\r\n\r\n    const[response, setResponse] = useState({error: false, isLoading: false, data: null})\r\n\r\n    const doFetch = async ()=>{\r\n        try{\r\n            setResponse({error: false, isLoading: true, data: null})\r\n\r\n            const response = await axios(url, {\r\n                method: 'get',\r\n            })\r\n\r\n            setResponse({error: false, isLoading: false, data: response.data})\r\n            \r\n        } catch(err){\r\n            setResponse({error: err, isLoading: false, data: null})\r\n        }\r\n    }\r\n    \r\n    return [response, doFetch]\r\n}\r\n\r\nexport default useFetch","import Employees from './employees'\r\n\r\nexport default Employees","import React, {useEffect, useCallback, useState} from 'react'\r\n\r\nimport Employee from '../employee'\r\nimport AddEmployeePanel from '../add-employee-panel'\r\nimport useFetch from '../useFetch'\r\n\r\nconst Employees = ()=>{\r\n\r\n    const [{data, isLoading, error}, doFetch] = useFetch('http://dummy.restapiexample.com/api/v1/employees')\r\n    const doFetchCb = useCallback(doFetch, [])\r\n\r\n    const [employees, setEmployees] = useState(null)\r\n\r\n    useEffect(()=>{\r\n        doFetchCb()\r\n    }, [doFetchCb])\r\n\r\n    useEffect(()=>{\r\n        setEmployees(data? data.data: null)\r\n    }, [data])\r\n\r\n    const [openAddEmployeePanel, setOpenAddEmployeePanel] = useState(false)\r\n\r\n    const addEmployee = ()=>{\r\n        setOpenAddEmployeePanel(true)\r\n    }\r\n\r\n    const addEmployeeCb = (employee)=>{\r\n        setOpenAddEmployeePanel(false)\r\n        setEmployees([\r\n            ...employees,\r\n            employee\r\n        ])\r\n    }\r\n\r\n    const removeEmployeeCb = (id)=>{\r\n        const idx = employees.findIndex(employee=>employee.id===id)\r\n        setEmployees([\r\n            ...employees.slice(0, idx),\r\n            ...employees.slice(idx + 1)\r\n        ])\r\n    }\r\n\r\n    console.log(employees)\r\n\r\n    return(\r\n        <div className={`employees`}>\r\n            {error && `Error: ${error}`}\r\n            {isLoading && 'Loading data...'}\r\n            {employees && employees.map(({id, employee_name, employee_age, employee_salary})=>{\r\n                return <Employee \r\n                    key={id}\r\n                    id={id}\r\n                    name={employee_name}\r\n                    removeEmployeeCb={removeEmployeeCb}\r\n                />\r\n            })}\r\n            <button onClick={addEmployee}>Add Employee</button>\r\n            {openAddEmployeePanel && <AddEmployeePanel \r\n                id={employees && Number(employees[employees.length-1].id)+1}\r\n                addEmployeeCb={addEmployeeCb}\r\n            />}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Employees","import React from 'react'\r\nimport {BrowserRouter as Router, Route, Switch} from 'react-router-dom'\r\n\r\nimport Main from './main'\r\nimport Employees from './employees'\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <Router>\r\n        <Switch>\r\n          <Route path='/' exact component={Main}/>\r\n          <Route path='/employees' exact component={Employees}/>\r\n        </Switch>\r\n      </Router>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}